<link rel="stylesheet" href="/public/css/attendance.css">
<div class="row">
    <div class="col-lg-12">
        <h1 class="page-header"><i class=""></i> Attendances Report</h1>
    </div>
    <!-- /.col-lg-12 -->
</div>
<div class="panel panel-default">
    <div class="panel-body">
        <div style="border-radius:20px;border: 2px solid #3dad9c;">
            <form name="attendanceForm" novalidate="novalidate" class="control-group,form,form-horizontal">
                <br>
                <table width="75%" class="table table-striped table-condensed">

                    <tr class="even gradeA">
                        <td><label class="control-label">Branch:</label></td>
                        <td><span  branch-name bn="searchCriteria.branchName"/></td>
                    </tr>
                    <tr>
                        <td class="firstcol"><label class="control-label" for="batchName">Batch</label></td>
                        <td>
                            <input type="text" style="width: 42%;" ng-model="searchCriteria.batchName" uib-typeahead="bName for bName in batchNames | filter:$viewValue | limitTo:8" id="batchName" placeholder="Batch" autocomplete="off" />
                        </td>
                    </tr>

                    <tr>
                        <td><label class="control-label">Month</label></td>
                        <td>
                            <input type="month" name="month" id="month" ng-model="searchCriteria.durationFrom" />
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2" style="text-align: right">
                            <a ng-click="search()" ng-class="{linkdisabled: attendanceForm.$invalid}"  class="btn btn-group-sm btn-primary"><i class="fa fa-search fa-fw"></i>Search</a>
                        </td>
                    </tr>
                </table>
            </form>
            <br>
        </div>
        <div class="clearfix"></div>

            <h4> BRANCH : {{searchCriteria.branchName}} &nbsp;&nbsp;&nbsp;&nbsp; BATCH : {{searchCriteria.batchName}} &nbsp;&nbsp;&nbsp;&nbsp; MONTH : {{searchCriteria.durationFrom |date : "MMMM" }}</h4>
        <div class="table-responsive" loading-container="tableParams.settings().$loading">
            <table ng-table="tableParams" show-filter="true" class="table ng-scope ng-table" >
                <thead>
                <br>
                <tr style="margin-bottom: 10px;margin-top: 10px">
                            <th>Name</th>
                        <th ng-repeat="dt in students[0].dateList | orderBy:'date'">{{dt.date |date : "d"}}</th>
                 </tr>
            </thead>
            <!--<tbody ng-repeat="at in attendance"></tbody>-->
            <tr ng-repeat="st in students | orderBy:'name'" >
                <th sortable="name" class="success">{{st.name}}</th>
                <th ng-repeat="ad in st.dateList | orderBy:'date'"   ng-class="{present: ad.status=='P', absent: ad.status=='A',leave: ad.status=='L',holiday: ad.status=='H'}" >{{ad.status}}</th>
            </tr>
            <tr>
                <td ng-show="$data.length==0" class="info no_data" colspan="9">
                    No Record Found
                </td>
            </tr>
            </table>
        </div>
    </div>
</div>
